<h2 class="text-center">Order Details</h2>

<div *ngIf="order">
  <div class="order-info">
    <p><strong>Order Name:</strong> {{ order.orderName }}</p>
    <p><strong>Order Created:</strong> {{ order.orderCreated | date: 'short' }}</p>
    <p><strong>Total Price:</strong> ${{ order.totalPrice | number: '1.2-2' }}</p>
    <p>
      <strong>Prepared for Customer:</strong>
      <span class="{{ order.isPreparedForCustomer ? 'status-yes' : 'status-no' }}">
        {{ order.isPreparedForCustomer ? 'Yes' : 'No' }}
      </span>
    </p>
    <p>
      <strong>Taken by Customer:</strong>
      <span class="{{ order.isTakenByCustomer ? 'status-yes' : 'status-no' }}">
        {{ order.isTakenByCustomer ? 'Yes' : 'No' }}
      </span>
    </p>
  </div>

  <div *ngIf="orderItems && orderItems.length > 0" class="order-items">
    <h4>Order Items</h4>
    <ul>
      <li *ngFor="let item of orderItems; let i = index" class="order-item">
        <strong>{{ item.userFile?.fileName || 'No File' }}</strong><br>
        <span><strong>Quantity:</strong> {{ item.count }}</span><br>
        <span><strong>Color:</strong> {{ item.color }}</span><br>
        <span><strong>Size:</strong> {{ item.size }}</span><br>
        <span><strong>Paper Type:</strong> {{ item.paperType }}</span><br>
        <span><strong>Description:</strong> {{ item.description }}</span><br>
        <span><strong>Price:</strong> ${{ item.price | number: '1.2-2' }}</span><br>
        <button class="btn btn-success mt-2" (click)="downloadFile(item)">Download</button>
      </li>
    </ul>
  </div>
</div>

<div *ngIf="!order" class="alert alert-warning">
  Loading order details...
</div>
